<!DOCTYPE html>
<html lang="en">

<style type="text/css">
    h1 {
        font-family: Arial, Helvetica, sans-serif;
        color: #F00;
        font-size: x-large;
    }

    p {
        font-family: Arial, Helvetica, sans-serif;
        color: #000;
        font-size: small;
    }

    body {
        background-color: #1d1d1d;
        text-align: center;
        margin: 0;
        padding: 0;
    }

    #bloctxt {
        border-left-width: 5px;
        border-left-style: solid;
        border-left-color: #F00;
        padding-left: 10px;
        position: absolute;
        left: 50%;
        width: 600px;
        margin-left: -260px; /* Added semicolon */
    }
</style>

<head>
    <link rel="icon" type="image/x-icon" href="favicon.ico" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

    <!-- Enables full-screen on iOS devices -->
    <meta name="viewport"
        content="initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=yes, target-densitydpi=device-dpi" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <meta name="HandheldFriendly" content="true" />

    <title>Five Nights at Freddy's Pizzeria Simulator</title>

    <script>
        // Detection of old browsers that do not support the canvas element
        // Falls back to a default page
        if (!document.createElement("canvas").getContext) {
            window.open("http://www.clickteam.com/html5-fallback", "_self");
        }
    </script>

    <!-- EXTRASOURCES -->
    <!-- Loads the Javascript code...-->
    <script src="src/Runtime.js"></script>

    <script>
        // Detection of when the HTML file is run locally.
        if (window.location.protocol == "file:") {
            const errorDiv = document.createElement("div");
            errorDiv.id = "bloctxt";
            
            const errorHeading = document.createElement("h1");
            errorHeading.textContent = "The application cannot be run...";
            errorDiv.appendChild(errorHeading);

            const errorParagraph = document.createElement("p");
            errorParagraph.innerHTML = "HTML browsers do not allow you to launch data files directly from the file system.<br>" +
                "A drag & drop of the HTML file on a web-browser window will not work, on any machine.<br>" +
                "Please use the Build & Run option (it opens a local web server) to run your application,<br>" +
                "or upload your application folder to a remote web-server, and start it from there...";
            errorDiv.appendChild(errorParagraph);
            
            document.body.appendChild(errorDiv);

            throw new Error("Cannot run application"); // Fixed error throwing
        }
    </script>
</head>

<body>

    <div style="display: inline-block; -webkit-user-select: none; text-align: left;">
        <canvas id="MMFCanvas" width="1920" height="1080">
            Your browser does not support Canvas.
        </canvas>
    </div>

    <script>
        // RUNTIMESTART
        window.addEventListener("load", windowLoaded, false);

        function windowLoaded() {
            // Calls the runtime
            // First parameter : name of the canvas element
            // Second parameter : path to the cch file. Images and sounds must lay beside this file
            new Runtime("MMFCanvas", "resources/fnafps.cch");
        }
        // RUNTIMESTARTEND
    </script>

</body>

</html>
